{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/TicketEdit.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","props","useEffect","axios","post","backend_route","ticketId","params","headers","window","sessionStorage","getItem","then","res","setTicketToEdit","data","console","log","ticketToEdit","catch","error","useState","handleInputChange","event","name","value","className","class","onClick","navigate","id","type","onChange","placeholder","description","byProjectName","assignedDeveloper","devName","priority","status","SuccesCenterTimer","fire","err","ErrorCenterTimer"],"mappings":"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","file":"static/js/8.45529162.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"./../Context\";\r\nimport { navigate } from \"@reach/router\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { backend_route } from \"./../GlobalVariables\";\r\nimport { SuccesCenterTimer, ErrorCenterTimer } from \"./../animations/Alerts\";\r\n\r\nexport default props => {\r\n  // props.ticketId\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        `${backend_route}/api/global/ticket/getTicketById`,\r\n        { ticketId: props.ticketId },\r\n        {\r\n          params: {},\r\n          headers: { \"auth-token\": window.sessionStorage.getItem(\"token\") }\r\n        }\r\n      )\r\n      .then(function(res) {\r\n        setTicketToEdit({ ...res.data, ticketId: props.ticketId });\r\n        console.log(ticketToEdit);\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n  const [ticketToEdit, setTicketToEdit] = useState({});\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    setTicketToEdit({ ...ticketToEdit, [name]: value });\r\n    console.log(ticketToEdit);\r\n  };\r\n\r\n  const onUpdateTicket = () => {\r\n    console.log(\"update\");\r\n\r\n    axios\r\n      .post(\r\n        `${backend_route}/api/global/ticket/updateTicketById`,\r\n        {\r\n          ...ticketToEdit\r\n        },\r\n        {\r\n          headers: { \"auth-token\": window.sessionStorage.getItem(\"token\") }\r\n        }\r\n      )\r\n      .then(res => {\r\n        setTicketToEdit(res.data);\r\n        SuccesCenterTimer.fire();\r\n        navigate(\"/myTickets\");\r\n      })\r\n      .catch(err => {\r\n        ErrorCenterTimer.fire();\r\n        console.log(err);\r\n        navigate(\"/myTickets\");\r\n      });\r\n  };\r\n\r\n  const onNavigateToTickets = () => {\r\n    navigate(\"/myTickets\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <div className=\"content\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div class=\"col-md-8\">\r\n              <div class=\"card\">\r\n                <div class=\"card-header card-header-success\">\r\n                  <h4 class=\"card-title \">{(\"Edit Ticket\")} </h4>\r\n                  <button\r\n                    onClick={onNavigateToTickets}\r\n                    class=\"btn btn-link  btn-sm   text-white\"\r\n                  >\r\n                    <i class=\"material-icons\">arrow_back</i>\r\n\r\n                    {(\"Back to list\")}\r\n                  </button>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table table-sm\">\r\n                      <tbody id=\"tbody\">\r\n                        <tr>\r\n                          <td>\r\n                            <h4>{(\"Ticket Title\")}</h4>\r\n                            <input\r\n                              type=\"text\"\r\n                              value={ticketToEdit.name}\r\n                              name=\"name\"\r\n                              onChange={handleInputChange}\r\n                              className=\"form-control mb-4\"\r\n                              placeholder=\"Name\"\r\n                            />\r\n                          </td>\r\n                          <td>\r\n                            <h4>{(\"Ticket Description\")}</h4>\r\n\r\n                            <input\r\n                              type=\"text\"\r\n                              name=\"description\"\r\n                              value={ticketToEdit.description}\r\n                              onChange={handleInputChange}\r\n                              className=\"form-control mb-4\"\r\n                              placeholder=\"Description\"\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                        <br />\r\n                        <tr>\r\n                          <td>\r\n                            <h4>{(\"Project\")}</h4>\r\n                            <p>{ticketToEdit.byProjectName}</p>\r\n                          </td>\r\n                          <td>\r\n                            <h4> {(\"Assigned Developer\")}</h4>\r\n\r\n                            <p>\r\n                              {ticketToEdit.assignedDeveloper &&\r\n                                ticketToEdit.assignedDeveloper.devName}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                        <br />\r\n                        <tr>\r\n                          <td>\r\n                            <h4>{(\"Ticket Priority\")}</h4>\r\n\r\n                            <select\r\n                              value={ticketToEdit.priority}\r\n                              name=\"priority\"\r\n                              onChange={handleInputChange}\r\n                              className=\"w-100 custom-select\"\r\n                            >\r\n                              <option value=\"low\">{(\"low\")}</option>\r\n                              <option value=\"medium\">{(\"medium\")}</option>\r\n                              <option value=\"high\">{(\"high\")}</option>\r\n                              <option value=\"urgent\">{(\"urgent\")}</option>\r\n                            </select>\r\n                          </td>\r\n                          <td>\r\n                            <h4>{(\"Ticket Status\")}</h4>\r\n                            <select\r\n                              value={ticketToEdit.status}\r\n                              name=\"status\"\r\n                              onChange={handleInputChange}\r\n                              className=\"w-100 custom-select\"\r\n                            >\r\n                              <option value=\"informed\">\r\n                                {(\"Informed\")}\r\n                              </option>\r\n                              <option value=\"inprogress\">\r\n                                {(\"In Progress\")}\r\n                              </option>\r\n                              <option value=\"closed\">{(\"Closed\")}</option>\r\n                            </select>\r\n                          </td>\r\n                        </tr>\r\n                        <br />\r\n                        <tr>\r\n                          <td>\r\n                            <h4>{(\"Ticket Type\")}</h4>\r\n                            <select\r\n                              value={ticketToEdit.type}\r\n                              name=\"type\"\r\n                              onChange={handleInputChange}\r\n                              className=\"w-100 custom-select\"\r\n                            >\r\n                              <option value=\"bug\">\r\n                                {(\"Bug\")}/{(\"Error\")}\r\n                              </option>\r\n                              <option value=\"feature\">\r\n                                {(\"Feature\")}/{(\"Request\")}\r\n                              </option>\r\n                              <option value=\"inquiry\">\r\n                                {(\"Inquiry\")}/{(\"Question\")}\r\n                              </option>\r\n                            </select>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                      <tfoot>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={onUpdateTicket}\r\n                          class=\"btn btn-info\"\r\n                        >\r\n                          {(\"Update Ticket\")}\r\n                        </button>\r\n                      </tfoot>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// export default TicketEdit;\r\n"],"sourceRoot":""}