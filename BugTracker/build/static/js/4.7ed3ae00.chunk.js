(this.webpackJsonpbugtracker=this.webpackJsonpbugtracker||[]).push([[4,9,10],{75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(3),r=(a(13),a(4));t.default=function(e){e.isLoading;var t=Object(n.useContext)(c.a),a=t.removeAuth,s=t.user;try{document.getElementById("removeAuth").addEventListener("click",(function(){a()}))}catch(o){console.log(o)}return l.a.createElement(r.a,null,l.a.createElement("nav",{style:{zIndex:10},className:"navbar navbar-expand-lg bg-light navbar-absolute fixed-top navbartracker mb-2 "},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"navbar-wrapper"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement("h5",{className:"text-secondary m-0"},"Logged in as"," :",l.a.createElement("span",{className:"text-dark text-capitalize font-weight-normal"},s.name)))),l.a.createElement("div",{className:"navbar-form"}),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"sr-only"},"Toggle navigation"),l.a.createElement("span",{className:"navbar-toggler-icon icon-bar"}),l.a.createElement("span",{className:"navbar-toggler-icon icon-bar"}),l.a.createElement("span",{className:"navbar-toggler-icon icon-bar"})),l.a.createElement("div",{className:"collapse navbar-collapse justify-content-end"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("button",{type:"submit",onClick:a,className:" btn btn-danger w-100",id:"removeAuth"},"Log out"))))))}},76:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(0),c=a.n(l),r=a(3),s=a(11);a(13);t.default=function(){var e=Object(l.useContext)(r.a),t=e.user,o=e.typeUser,i=Object(l.useState)(window.sessionStorage.getItem("active")||"dashboard"),m=Object(n.a)(i,2),u=m[0],d=m[1],E=function(e){"dashboard"==e?(window.sessionStorage.setItem("active","dashboard"),d("dashboard")):"manageRole"==e?(window.sessionStorage.setItem("active","manageRole"),d("manageRole")):"manageProject"==e?(window.sessionStorage.setItem("active","manageProject"),d("manageProject")):"myProjects"==e?(window.sessionStorage.setItem("active","myProjects"),d("myProjects")):"myTickets"==e&&(window.sessionStorage.setItem("active","myTickets"),d("myTickets"))};return c.a.createElement("div",{className:"sidebar","data-color":"danger"},c.a.createElement("div",{className:"d-flex flex-row logo"},c.a.createElement("div",{className:"d-flex flex-row"},c.a.createElement("div",null,c.a.createElement("img",{src:a(77),width:"80px",alt:""})),c.a.createElement("div",{className:"overflow-hidden w-75"},c.a.createElement("h3",null,"Welcome"),c.a.createElement("h4",{className:"font-weight-normal text-capitalize overflow-hidden"},t.name)))),c.a.createElement("div",{className:"sidebar-wrapper"},c.a.createElement("ul",{className:"nav navbar-nav"},c.a.createElement("li",{className:"dashboard"==u?"active":"nav-item"},c.a.createElement(s.a,{className:"nav-link",to:"/",onClick:function(){E("dashboard")}},c.a.createElement("i",{className:"material-icons"},"dashboard"),c.a.createElement("p",null,"Dashboard"))),"admin"===o&&c.a.createElement(l.Fragment,null,c.a.createElement("li",{className:"manageRole"==u?"active":"nav-item"},c.a.createElement(s.a,{className:"nav-link",to:"/manageRole",onClick:function(){E("manageRole")}},c.a.createElement("i",{className:"material-icons"},"group_add"),c.a.createElement("p",null,"Manage Role Assignment"))),c.a.createElement("li",{className:"manageProject"==u?"nav-item active":"nav-item"},c.a.createElement(s.a,{onClick:function(){E("manageProject")},className:"nav-link",to:"/manageProject"},c.a.createElement("i",{className:"material-icons"},'"people_alt"'),c.a.createElement("p",null,"Manage Projects Users")))),c.a.createElement("li",{className:"myProjects"==u?"nav-item active":"nav-item"},c.a.createElement(s.a,{onClick:function(){E("myProjects")},className:"nav-link",to:"/myProjects"},c.a.createElement("i",{className:"material-icons"},"library_books"),c.a.createElement("p",null,"My projects"))),c.a.createElement("li",{className:"myTickets"==u?"nav-item active":"nav-item"},c.a.createElement(s.a,{onClick:function(){E("myTickets")},className:"nav-link",to:"/myTickets"},c.a.createElement("i",{className:"material-icons"},"loyalty"),c.a.createElement("p",null,"My tickets"," "))))))}},77:function(e,t,a){e.exports=a.p+"static/media/logo.c368e003.png"},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(7);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},88:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(0),c=a.n(l),r=a(3),s=a(5),o=a.n(s),i=a(11),m=a(4);function u(e){var t=e.setFilteredArray,a=Object(l.useContext)(r.a).listTickets,s=Object(l.useState)(""),o=Object(n.a)(s,2),i=o[0],u=o[1];Object(l.useEffect)((function(){t(a)}),[a]);return Object(l.useEffect)((function(){var e;t((e=i,a.filter((function(t){var a={};for(var n in a.name=t.name,a.byProjectName=t.byProjectName,t.assignedDeveloper?a.assignedDeveloper=t.assignedDeveloper.devName:a.assignedDeveloper="",a.priority=t.priority,a.status=t.status,a.type=t.type,a.createdAt=t.createdAt,a)if(JSON.stringify(a[n]).toLowerCase().includes(e.toLowerCase()))return a})))),console.log(i)}),[i]),c.a.createElement(m.a,{className:"input-group no-border w-100  d-flex flex-row-reverse"},c.a.createElement("div",{className:"input-group no-border w-50"},c.a.createElement("input",{className:"form-control",type:"text",value:i,onChange:function(e){u(e.target.value)},placeholder:"Search"}),c.a.createElement("button",{type:"submit",class:"btn btn-white btn-round btn-just-icon"},c.a.createElement("i",{class:"material-icons"},"search"),c.a.createElement("div",{class:"ripple-container"}))))}var d=a(6),E=(a(13),a(10)),g=a.n(E),b=a(8);function p(e){for(var t=e.filteredArray,a=Object(l.useContext)(r.a),s=(a.myPersonel,a.setMyPersonel,a.setListProjects,a.listProjects,a.setListTickets),u=Object(l.useState)(1),E=Object(n.a)(u,2),p=E[0],v=E[1],f=Object(l.useState)(5),h=Object(n.a)(f,1)[0],N=p*h,y=N-h,j=t.slice(y,N),k=[],w=1;w<=Math.ceil(t.length/h);w++)k.push(w);Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/admin/ticket/getListOfTickets"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){if(200===e.request.status)try{console.log(e.data),s(e.data)}catch(t){console.log(t)}else console.log("error pe chino")}))}),[]);return c.a.createElement(m.a,{className:"table-responsive"},c.a.createElement("table",{className:"table "},c.a.createElement("thead",{className:" "},c.a.createElement("tr",null,c.a.createElement("th",{className:"font-weight-bold"}," ","title"),c.a.createElement("th",{className:"font-weight-bold"},"projectName"),c.a.createElement("th",{className:"font-weight-bold"},"assignedDeveloper"),c.a.createElement("th",{className:"font-weight-bold"},"priority"),c.a.createElement("th",{className:"font-weight-bold"},"status"),c.a.createElement("th",{className:"font-weight-bold"},"type"),c.a.createElement("th",{className:"font-weight-bold"},"createdAt"),c.a.createElement("th",{className:"font-weight-bold"},"details"))),c.a.createElement("tbody",null,j.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.byProjectName),c.a.createElement("td",null,e.assignedDeveloper&&e.assignedDeveloper.devName),c.a.createElement("td",null," ",e.priority),c.a.createElement("td",null," ",e.status),c.a.createElement("td",null," ",e.type),c.a.createElement("td",null," ",e.createdAt),c.a.createElement("td",{className:"text-secondary"},c.a.createElement(i.a,{to:"./details/".concat(e._id)},"details"),c.a.createElement("br",null),c.a.createElement(i.a,{to:"./edit/".concat(e._id)},"edit"),c.a.createElement("br",null),c.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:function(){var t;t=e._id,g.a.fire({title:"Are you sure?",text:"You won' be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#4caf50",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&o.a.post("".concat(d.a,"/api/global/ticket/deleteTicketById"),{ticketId:t},{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){200===e.request.status?(s(e.data),b.d.fire()):console.log("error")}))}))}},"Delete",c.a.createElement("i",{className:"material-icons ml-1"},"delete_forever"))))}))),c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("nav",null,c.a.createElement("ul",{className:"pagination"},k.map((function(e){return c.a.createElement("li",{key:e,className:"page-item"},c.a.createElement("a",{onClick:function(){return v(e)},className:"page-link"},e))})))))))))}function v(){var e=Object(l.useState)([]),t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement(m.a,{className:"card"},c.a.createElement("div",{className:"card-header card-header-danger"},c.a.createElement("h4",{className:"card-title "},"Your Tickets"," "),c.a.createElement("p",{className:"card-category"}," ","All your Tickets in your database")),c.a.createElement("div",{className:"card-body"},c.a.createElement(u,{setFilteredArray:r}),c.a.createElement(p,{filteredArray:a})))}var f=a(7),h=a(78);function N(){var e=Object(l.useContext)(r.a),t=e.listProjects,a=(e.listTickets,e.setListTickets),s=(e.user,e.setListProjects),i={name:"",description:"",projectId:void 0,type:"bug",priority:"low",imageDescription:"",file:{}},u=Object(l.useState)(i),E=Object(n.a)(u,2),g=E[0],p=E[1],v=function(e){var t=e.target,a=t.name,n=t.value;p(Object(h.a)({},g,Object(f.a)({},a,n)))};return Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/admin/project/myProjects"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement(m.a,{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h4",{className:"modal-title",id:"exampleModalLabel"},"New Ticket"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",null,c.a.createElement("h4",null,"Select project to attach"),c.a.createElement("select",{value:g.projectId,name:"projectId",onChange:v,className:"w-100  list-group",size:"3"},t.map((function(e,t){return c.a.createElement("option",{className:"list-group-item list-group-item-action ",key:t,value:e._id},e.name)})))),c.a.createElement("form",{className:" border border-light p-5"},c.a.createElement("h4",null," ","Create your new ticket"),c.a.createElement("input",{type:"text",value:g.name,name:"name",onChange:v,className:"form-control mb-4",placeholder:"Name"}),c.a.createElement("input",{type:"text",value:g.description,name:"description",onChange:v,className:"form-control mb-4",placeholder:"Description"}),c.a.createElement("div",null,c.a.createElement("h4",null," ","Priority"),c.a.createElement("select",{value:g.priority,name:"priority",onChange:v,className:"w-100 custom-select"},c.a.createElement("option",{value:"low"},"low"),c.a.createElement("option",{value:"medium"},"medium"),c.a.createElement("option",{value:"high"},"high"),c.a.createElement("option",{value:"urgent"},"urgent"))),c.a.createElement("div",null,c.a.createElement("h4",null," ","Type"," "),c.a.createElement("select",{value:g.type,name:"type",onChange:v,className:"w-100 custom-select"},c.a.createElement("option",{value:"bug"},"Bug","/","Error"),c.a.createElement("option",{value:"feature"},"Feature","/","Request"),c.a.createElement("option",{value:"inquiry"},"Inquiry","/","Question"))),c.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),o.a.post("".concat(d.a,"/api/global/ticket/createTicket"),Object(h.a)({},g),{params:{},headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){a(e.data),b.e.fire({icon:"success",title:"Process executed with success"})})).catch((function(e){console.log(e),b.e.fire({icon:"error",title:"Process NOT executed with success"})}))},className:"btn btn-success","data-dismiss":"modal"},"Create ticket and Close"))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close")))))}var y=function(){var e=Object(l.useContext)(r.a),t=(e.listProjects,e.listTickets),a=e.setListTickets,s=(e.user,e.setListProjects,Object(l.useState)([])),i=Object(n.a)(s,2),u=i[0],E=i[1];Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/admin/personnel/myDevs"),{params:{},headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),E(e.data)})).catch((function(e){console.log(e.response)}))}),[]);var g=Object(l.useState)(void 0),p=Object(n.a)(g,2),f=p[0],h=p[1],y=Object(l.useState)(void 0),j=Object(n.a)(y,2),k=j[0],w=j[1];return c.a.createElement(m.a,{className:"mt-3"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",null,c.a.createElement("h4",null,"Create New Ticket"," "),c.a.createElement("button",{type:"button",className:"btn btn-danger","data-toggle":"modal","data-target":"#exampleModal"},"New Ticket"),c.a.createElement(N,null)),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement("h4",null," ","Assign Ticket to Developer"," "),c.a.createElement("button",{type:"button",className:"btn btn-danger","data-toggle":"modal","data-target":"#exampleModal2"},"Assign"),c.a.createElement("div",{className:"modal fade",id:"exampleModal2",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h4",{className:"modal-title",id:"exampleModalLabel"},"Assign Ticket To Dev"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",null,c.a.createElement("h4",null,"Pick your ticket"),c.a.createElement("select",{value:f,onChange:function(e){h(e.target.value),console.log(e.target.value)},className:"w-100  list-group",size:"2"},t.map((function(e,t){return c.a.createElement("option",{className:"list-group-item list-group-item-action ",key:t,value:e._id},e.name)})))),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("h4",null,"Pick your dev"),c.a.createElement("select",{value:k,onChange:function(e){w(e.target.value),console.log(e.target.value)},className:"w-100  list-group",size:"2"},u.map((function(e,t){return c.a.createElement("option",{className:"list-group-item list-group-item-action ",key:t,value:e._id},e.name)})))),c.a.createElement("br",null),c.a.createElement("button",{type:"button",onClick:function(){o.a.post("".concat(d.a,"/api/global/ticket/assignTicketToDev"),{devId:k,ticketId:f},{params:{},headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){200===e.request.status?(console.log(e.data),a(e.data),b.e.fire({icon:"success",title:"Process executed with success"})):console.log("error")})).catch((function(e){console.log(e),b.e.fire({icon:"error",title:"Process NOT executed with success"})}))},className:"btn btn-success","data-dismiss":"modal"},"Assing and close")),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close")))))),c.a.createElement("hr",null),c.a.createElement(v,null))))};a(75),a(76),a(38);function j(){var e=Object(l.useContext)(r.a),t=e.listProjects,a=e.setListProjects,s=(e.listTickets,e.setListTickets),i=(e.user,{name:"",description:"",projectId:void 0,type:"bug",priority:"low",imageDescription:""}),u=Object(l.useState)(i),E=Object(n.a)(u,2),g=E[0],p=E[1],v=Object(l.useState)(!0),N=Object(n.a)(v,2),y=(N[0],N[1]),j=function(e){var t=e.target,a=t.name,n=t.value;p(Object(h.a)({},g,Object(f.a)({},a,n)))};Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/submitter/project/getAssignedProjects"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){a(e.data),y(!1),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(m.a,null,c.a.createElement("button",{type:"button",className:"btn btn-danger","data-toggle":"modal","data-target":"#exampleModal"},"New Ticket"),c.a.createElement("div",{className:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h4",{className:"modal-title",id:"exampleModalLabel"},"New Ticket"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",null,c.a.createElement("h4",null,"Select project to attach"," "),c.a.createElement("select",{value:g.projectId,name:"projectId",onChange:j,className:"w-100 list-group",size:"2"},t.map((function(e,t){return c.a.createElement("option",{className:"list-group-item list-group-item-action ",key:t,value:e._id},e.name)})))),c.a.createElement("form",{className:" border border-light p-5"},c.a.createElement("h4",null,"Create your new ticket"," "),c.a.createElement("input",{type:"text",name:"name",onChange:j,className:"form-control mb-4",placeholder:"Name"}),c.a.createElement("textarea",{required:!0,rows:"4",cols:"50",className:"form-control  mb-4",onChange:j,name:"description",type:"text",placeholder:"Description"}),c.a.createElement("div",null,c.a.createElement("h4",null,"Priority "),c.a.createElement("select",{value:g.priority,name:"priority",onChange:j,className:"w-100 custom-select"},c.a.createElement("option",{value:"low"},"low"),c.a.createElement("option",{value:"medium"},"medium"),c.a.createElement("option",{value:"high"},"high"),c.a.createElement("option",{value:"urgent"},"urgent"))),c.a.createElement("div",null,c.a.createElement("h4",null,"Type"," "),c.a.createElement("select",{value:g.type,name:"type",onChange:j,className:"w-100 custom-select"},c.a.createElement("option",{value:"bug"},"Bug"," /","Error"),c.a.createElement("option",{value:"feature"},"Feature","/","Request"),c.a.createElement("option",{value:"inquiry"},"Inquiry","/","Question"))),c.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),o.a.post("".concat(d.a,"/api/global/ticket/createTicket"),Object(h.a)({},g),{params:{},headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),console.log("ticket creado correctamente"),s(e.data),b.e.fire({icon:"success",title:"Process executed with success"})})).catch((function(e){console.log(e),b.e.fire({icon:"error",title:"Process NOT executed with success"})}))},className:"btn btn-success","data-dismiss":"modal"},"Create ticket and Close"))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))}function k(){var e=Object(l.useContext)(r.a),t=e.listTickets,s=e.setListTickets,u=Object(l.useState)(!0),E=Object(n.a)(u,2),g=E[0],p=E[1];Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/developer/ticket/getTicketsByAssignedManager"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){if(200===e.request.status)try{console.log(e.data),s(e.data),p(!1)}catch(t){console.log(t)}else console.log("error")}))}),[]);var v=Object(l.useState)(""),f=Object(n.a)(v,2),h=f[0],N=f[1],y=Object(l.useState)(),k=Object(n.a)(y,2),w=k[0],O=k[1];Object(l.useEffect)((function(){o.a.post("".concat(d.a,"/api/developer/ticket/updateTicketStatusByDev"),{status:w,ticketId:h},{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){b.e.fire({icon:"success",title:"Process executed with success"}),o.a.get("".concat(d.a,"/api/developer/ticket/getTicketsByAssignedManager"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){console.log(e),b.e.fire({icon:"error",title:"Process NOT executed with success"})}))})).catch((function(e){console.log(e),b.e.fire({icon:"error",title:"Process NOT executed with success"})}))}),[w]);var x=function(e){O(e.target.value),N(e.target.name)},C=Object(l.useState)([]),S=Object(n.a)(C,2),T=S[0],P=S[1],D=Object(l.useState)(""),I=Object(n.a)(D,2),A=I[0],L=I[1];Object(l.useEffect)((function(){P(t)}),[t]);Object(l.useEffect)((function(){var e;P((e=A,t.filter((function(t){var a={};for(var n in a.name=t.name,a.byProjectName=t.byProjectName,t.assignedDeveloper?a.assignedDeveloper=t.assignedDeveloper.devName:a.assignedDeveloper="",a.priority=t.priority,a.status=t.status,a.type=t.type,a.createdAt=t.createdAt,a)if(JSON.stringify(a[n]).toLowerCase().includes(e.toLowerCase()))return a})))),console.log(A)}),[A]);for(var M=Object(l.useState)(1),_=Object(n.a)(M,2),B=_[0],q=_[1],z=Object(l.useState)(5),R=Object(n.a)(z,1)[0],Y=B*R,F=Y-R,J=T.slice(F,Y),U=[],Q=1;Q<=Math.ceil(T.length/R);Q++)U.push(Q);return c.a.createElement(m.a,{className:"mt-3"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("h4",null,"Create New Ticket"," "),c.a.createElement(j,null),c.a.createElement("hr",null),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header card-header-info"},c.a.createElement("h4",{className:"card-title "},"Your Tickets"),c.a.createElement("p",{className:"card-category"},"All your Tickets in your database")),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("div",{className:"input-group no-border w-100  d-flex flex-row-reverse"},c.a.createElement("div",{className:"input-group no-border w-50  "},c.a.createElement("input",{className:"form-control",type:"text",value:A,onChange:function(e){L(e.target.value)},placeholder:"Search"}),c.a.createElement("button",{type:"submit",class:"btn btn-white btn-round btn-just-icon"},c.a.createElement("i",{class:"material-icons"},"search"),c.a.createElement("div",{class:"ripple-container"})))),c.a.createElement("table",{className:"table "},c.a.createElement("thead",{className:"font-weight-bold"},c.a.createElement("tr",null,c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Assigned Developer"),c.a.createElement("th",null,"Priority"),c.a.createElement("th",null,"Status"),c.a.createElement("th",null,"Details"),c.a.createElement("th",null,"Change Status"))),c.a.createElement("tbody",null,g?c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("img",{src:a(16),width:"80px",alt:""}))):J.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.assignedDeveloper&&e.assignedDeveloper.devName),c.a.createElement("td",null," ",e.priority),c.a.createElement("td",null,e.status),c.a.createElement("td",{className:"text-secondary"},c.a.createElement(i.a,{to:"./details/".concat(e._id)},c.a.createElement("td",null,"details"))),c.a.createElement("td",null,c.a.createElement("select",{value:e.status,name:e._id,onChange:x,className:"w-75 btn btn-warning  btn-sm list-group"},c.a.createElement("option",{className:"optionDanger list-group-item list-group-item-action  b ",value:"informed"},"Informed"),c.a.createElement("option",{className:"optionWarning list-group-item list-group-item-action   ",value:"inprogress"},"In Progress"),c.a.createElement("option",{className:"optionInfo list-group-item list-group-item-action   ",value:"closed"},"Closed"))))}))),c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("nav",null,c.a.createElement("ul",{className:"pagination"},U.map((function(e){return c.a.createElement("li",{key:e,className:"page-item"},c.a.createElement("a",{onClick:function(){return q(e)},className:"page-link"},e))}))))))))))))))}function w(){var e=Object(l.useContext)(r.a),t=(e.listProjects,e.listTickets),a=e.setListTickets;e.user;Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/manager/ticket/getTicketsByAssignedProjects"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){if(200===e.request.status)try{console.log("tickets que me han sido assignados"),console.log(e.data),a(e.data)}catch(t){console.log(t),a([])}else console.log("error")}))}),[]);var s=Object(l.useState)([]),i=Object(n.a)(s,2),u=i[0],E=i[1];Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/manager/project/myDevsForAssignedProjects"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){E(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]);var g=Object(l.useState)(void 0),p=Object(n.a)(g,2),v=p[0],f=p[1],h=Object(l.useState)(void 0),N=Object(n.a)(h,2),y=N[0],j=N[1];return c.a.createElement(m.a,null,c.a.createElement("button",{type:"button",class:"btn btn-info","data-toggle":"modal","data-target":"#exampleModal2"},"Assign"),c.a.createElement("div",{class:"modal fade",id:"exampleModal2",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{class:"modal-dialog",role:"document"},c.a.createElement("div",{class:"modal-content"},c.a.createElement("div",{class:"modal-header"},c.a.createElement("h4",{class:"modal-title",id:"exampleModalLabel"},"ASSIGN TICKET TO DEV"),c.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{class:"modal-body"},c.a.createElement("div",null,c.a.createElement("h4",null," ","Pick your ticket"),c.a.createElement("select",{value:v,onChange:function(e){f(e.target.value),console.log(e.target.value)},className:"w-100 list-group",size:"2"},t.map((function(e,t){return c.a.createElement("option",{className:"list-group-item list-group-item-action ",key:t,value:e._id},e.name)})))),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("h4",null," ","Pick your dev"),c.a.createElement("select",{value:y,onChange:function(e){j(e.target.value),console.log(e.target.value)},className:"w-100 list-group",size:"2"},u.map((function(e,t){return c.a.createElement("option",{className:"list-group-item list-group-item-action ",key:t,value:e._id},e.name)})))),c.a.createElement("br",null),c.a.createElement("button",{type:"button",onClick:function(){o.a.post("".concat(d.a,"/api/global/ticket/assignTicketToDev"),{devId:y,ticketId:v},{params:{},headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){b.e.fire({icon:"success",title:"Process executed with success"}),console.log(e.data),a(e.data)})).catch((function(e){console.log(e),b.e.fire({icon:"error",title:"Process NOT executed with success"})}))},class:"btn btn-success","data-dismiss":"modal"},"Assing and close")),c.a.createElement("div",{class:"modal-footer"},c.a.createElement("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal"},"Close"))))))}function O(){var e=Object(l.useContext)(r.a),t=(e.listProjects,e.listTickets),a=e.setListTickets,s=(e.user,Object(l.useState)([])),u=Object(n.a)(s,2),E=u[0],p=u[1],v=Object(l.useState)(""),f=Object(n.a)(v,2),h=f[0],N=f[1];Object(l.useEffect)((function(){p(t)}),[t]);Object(l.useEffect)((function(){var e;p((e=h,t.filter((function(t){var a={};for(var n in a.name=t.name,a.byProjectName=t.byProjectName,t.assignedDeveloper?a.assignedDeveloper=t.assignedDeveloper.devName:a.assignedDeveloper="",a.priority=t.priority,a.status=t.status,a.type=t.type,a.createdAt=t.createdAt,a)if(JSON.stringify(a[n]).toLowerCase().includes(e.toLowerCase()))return a})))),console.log(h)}),[h]);for(var y=Object(l.useState)(1),j=Object(n.a)(y,2),k=j[0],O=j[1],x=Object(l.useState)(5),C=Object(n.a)(x,1)[0],S=k*C,T=S-C,P=E.slice(T,S),D=[],I=1;I<=Math.ceil(E.length/C);I++)D.push(I);return c.a.createElement(m.a,{className:"mt-3"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("h4",null,"Assign Ticket to Developer"," "),c.a.createElement(w,null),c.a.createElement("hr",null),c.a.createElement("div",{class:"card"},c.a.createElement("div",{class:"card-header card-header-success"},c.a.createElement("h4",{class:"card-title "},"Your Tickets"),c.a.createElement("p",{class:"card-category"},"All your Tickets in your database")),c.a.createElement("div",{class:"card-body"},c.a.createElement("div",{class:"table-responsive"},c.a.createElement("div",{className:"input-group no-border w-100  d-flex flex-row-reverse"},c.a.createElement("div",{className:"input-group no-border w-50  "},c.a.createElement("input",{className:"form-control",type:"text",value:h,onChange:function(e){N(e.target.value)},placeholder:"Search"}),c.a.createElement("button",{type:"submit",class:"btn btn-white btn-round btn-just-icon"},c.a.createElement("i",{class:"material-icons"},"search"),c.a.createElement("div",{class:"ripple-container"})))),c.a.createElement("table",{class:"table "},c.a.createElement("thead",{className:"font-weight-bold"},c.a.createElement("th",{className:"font-weight-bold"},"title"),c.a.createElement("th",{className:"font-weight-bold"},"projectName"),c.a.createElement("th",{className:"font-weight-bold"},"assignedDeveloper"),c.a.createElement("th",{className:"font-weight-bold"},"priority"),c.a.createElement("th",{className:"font-weight-bold"},"status"),c.a.createElement("th",{className:"font-weight-bold"},"type"),c.a.createElement("th",{className:"font-weight-bold"},"createdAt"),c.a.createElement("th",{className:"font-weight-bold"},"details")),c.a.createElement("tbody",null,P.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.byProjectName),c.a.createElement("td",null,e.assignedDeveloper&&e.assignedDeveloper.devName),c.a.createElement("td",null," ",e.priority),c.a.createElement("td",null," ",e.status),c.a.createElement("td",null," ",e.type),c.a.createElement("td",null," ",e.createdAt),c.a.createElement("td",{class:"text-primary"},c.a.createElement(i.a,{to:"./details/".concat(e._id)},"details")),c.a.createElement("td",{class:"text-primary"},c.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:function(){var t;t=e._id,g.a.fire({title:"Are you sure?",text:"You won' be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#4caf50",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&o.a.post("".concat(d.a,"/api/global/ticket/deleteTicketById"),{ticketId:t},{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){console.log("ticket eliminado correctamente"),a(e.data),b.d.fire()})).catch((function(e){console.log(e)}))}))}},"Delete",c.a.createElement("i",{className:"material-icons ml-1"},"delete_forever"))))}))),c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("nav",null,c.a.createElement("ul",{className:"pagination"},D.map((function(e){return c.a.createElement("li",{key:e,className:"page-item"},c.a.createElement("a",{onClick:function(){return O(e)},className:"page-link"},e))})))))))))))))}function x(){var e=Object(l.useContext)(r.a),t=(e.listProjects,e.listTickets),s=e.setListTickets,u=Object(l.useState)(!0),E=Object(n.a)(u,2),g=E[0],b=E[1];Object(l.useEffect)((function(){o.a.get("".concat(d.a,"/api/submitter/ticket/getTicketsCreatedBySubmitter"),{headers:{"auth-token":window.sessionStorage.getItem("token")}}).then((function(e){if(200===e.request.status)try{console.log(e.data),s(e.data),b(!1)}catch(t){console.log(t)}else console.log("error")}))}),[]);var p=Object(l.useState)([]),v=Object(n.a)(p,2),f=v[0],h=v[1],N=Object(l.useState)(""),y=Object(n.a)(N,2),k=y[0],w=y[1];Object(l.useEffect)((function(){h(t)}),[t]);Object(l.useEffect)((function(){var e;h((e=k,t.filter((function(t){var a={};for(var n in a.name=t.name,a.byProjectName=t.byProjectName,t.assignedDeveloper?a.assignedDeveloper=t.assignedDeveloper.devName:a.assignedDeveloper="",a.priority=t.priority,a.status=t.status,a.type=t.type,a.createdAt=t.createdAt,a)if(JSON.stringify(a[n]).toLowerCase().includes(e.toLowerCase()))return a})))),console.log(k)}),[k]);for(var O=Object(l.useState)(1),x=Object(n.a)(O,2),C=x[0],S=x[1],T=Object(l.useState)(5),P=Object(n.a)(T,1)[0],D=C*P,I=D-P,A=f.slice(I,D),L=[],M=1;M<=Math.ceil(f.length/P);M++)L.push(M);return c.a.createElement(m.a,{className:"mt-3"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("h4",null,"Create New Ticket"," "),c.a.createElement(j,null),c.a.createElement("hr",null),c.a.createElement("div",{class:"card"},c.a.createElement("div",{class:"card-header card-header-warning"},c.a.createElement("h4",{class:"card-title "},"Your Tickets"),c.a.createElement("p",{class:"card-category"},"All your Tickets in your database")),c.a.createElement("div",{class:"card-body"},c.a.createElement("div",{class:"table-responsive"},c.a.createElement("div",{className:"input-group no-border w-100  d-flex flex-row-reverse"},c.a.createElement("div",{className:"input-group no-border w-50  "},c.a.createElement("input",{className:"form-control",type:"text",value:k,onChange:function(e){w(e.target.value)},placeholder:"Search"}),c.a.createElement("button",{type:"submit",class:"btn btn-white btn-round btn-just-icon"},c.a.createElement("i",{class:"material-icons"},"search"),c.a.createElement("div",{class:"ripple-container"})))),c.a.createElement("table",{class:"table "},c.a.createElement("thead",{className:"font-weight-bold"},c.a.createElement("th",{className:"font-weight-bold"},"title"),c.a.createElement("th",{className:"font-weight-bold"},"projectName"),c.a.createElement("th",{className:"font-weight-bold"},"assignedDeveloper"),c.a.createElement("th",{className:"font-weight-bold"},"priority"),c.a.createElement("th",{className:"font-weight-bold"},"status"),c.a.createElement("th",{className:"font-weight-bold"},"type"),c.a.createElement("th",{className:"font-weight-bold"},"createdAt")),c.a.createElement("tbody",null,g?c.a.createElement("img",{src:a(16),width:"80px",alt:""}):A.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.byProjectName),c.a.createElement("td",null,e.assignedDeveloper&&e.assignedDeveloper.devName),c.a.createElement("td",null," ",e.priority),c.a.createElement("td",null," ",e.status),c.a.createElement("td",null," ",e.type),c.a.createElement("td",null," ",e.createdAt),c.a.createElement("td",{class:"text-primary"},c.a.createElement(i.a,{to:"./details/".concat(e._id)},"details")))}))),c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("nav",null,c.a.createElement("ul",{className:"pagination"},L.map((function(e){return c.a.createElement("li",{key:e,className:"page-item"},c.a.createElement("a",{onClick:function(){return S(e)},className:"page-link"},e))})))))))))))))}function C(){var e=Object(l.useContext)(r.a).typeUser;return c.a.createElement("div",null,"admin"===e&&c.a.createElement(y,null),"manager"===e&&c.a.createElement(O,null),"developer"===e&&c.a.createElement(k,null),"submitter"===e&&c.a.createElement(x,null))}a.d(t,"default",(function(){return C}))}}]);
//# sourceMappingURL=4.7ed3ae00.chunk.js.map