{"version":3,"sources":["pages/DashboardHome.js"],"names":["useContext","Context","typeUser","user","setTypeUser","useState","listOfTicketsToGraph","setListOfTicketsToGraph","useEffect","axios","get","backend_route","headers","window","sessionStorage","getItem","then","res","request","status","data","error","console","log","urgentTickets","highTickets","mediumTickets","lowTickets","priorityTickets","setPriorityTickets","bugTickets","featureTickets","inquiryTickets","typeTickets","setTypeTickets","informadoTickets","inprogressTickets","closedTickets","statusTickets","setStatusTickets","ticketsAssignedToDevs","setTicketsAssignedToDevs","listTicketsWithAssignedDeveloper","i","length","assignedDeveloper","push","devName","countDevelopers","forEach","countToArray","Object","entries","dataAssigned","c1","c2","c3","c4","priority","c11","c22","c33","type","c111","c222","c333","className","height","chartType","loader","src","require","width","alt","options","chart","colors","pieHole","is3D","bar","Width"],"mappings":"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","file":"static/js/11.c2e388e4.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext, Fragment } from \"react\";\r\nimport { Context } from \"./../Context\";\r\nimport axios from \"axios\";\r\n\r\nimport { Chart } from \"react-google-charts\";\r\nimport { backend_route } from \"./../GlobalVariables\";\r\n\r\nexport default () => {\r\n  const { user, typeUser, setTypeUser } = useContext(Context);\r\n  const [listOfTicketsToGraph, setListOfTicketsToGraph] = useState([]);\r\n  useEffect(() => {\r\n    if (typeUser === \"admin\") {\r\n      axios\r\n        .get(`${backend_route}/api/admin/ticket/getListOfTickets`, {\r\n          headers: { \"auth-token\": window.sessionStorage.getItem(\"token\") }\r\n        })\r\n        .then(res => {\r\n          if (res.request.status === 200) {\r\n            try {\r\n              setListOfTicketsToGraph(res.data);\r\n            } catch (error) {\r\n              console.log(error);\r\n              setListOfTicketsToGraph([]);\r\n            }\r\n          } else {\r\n            console.log(\"error\");\r\n          }\r\n        });\r\n    } else if (typeUser === \"manager\") {\r\n      axios\r\n        .get(\r\n          `${backend_route}/api/manager/ticket/getTicketsByAssignedProjects`,\r\n          {\r\n            headers: { \"auth-token\": window.sessionStorage.getItem(\"token\") }\r\n          }\r\n        )\r\n        .then(res => {\r\n          if (res.request.status === 200) {\r\n            try {\r\n              setListOfTicketsToGraph(res.data);\r\n            } catch (error) {\r\n              console.log(error);\r\n              setListOfTicketsToGraph([]);\r\n            }\r\n          } else {\r\n            console.log(\"error\");\r\n          }\r\n        });\r\n    } else if (typeUser === \"developer\") {\r\n      axios\r\n        .get(\r\n          `${backend_route}/api/developer/ticket/getTicketsByAssignedManager`,\r\n          {\r\n            headers: { \"auth-token\": window.sessionStorage.getItem(\"token\") }\r\n          }\r\n        )\r\n        .then(res => {\r\n          if (res.request.status === 200) {\r\n            try {\r\n              setListOfTicketsToGraph(res.data);\r\n            } catch (error) {\r\n              console.log(error);\r\n              setListOfTicketsToGraph([]);\r\n            }\r\n          } else {\r\n            console.log(\"error\");\r\n          }\r\n        });\r\n    } else if (typeUser === \"submitter\") {\r\n      axios\r\n        .get(\r\n          `${backend_route}/api/submitter/ticket/getTicketsCreatedBySubmitter`,\r\n          {\r\n            headers: { \"auth-token\": window.sessionStorage.getItem(\"token\") }\r\n          }\r\n        )\r\n        .then(res => {\r\n          if (res.request.status === 200) {\r\n            try {\r\n              setListOfTicketsToGraph(res.data);\r\n            } catch (error) {\r\n              console.log(error);\r\n              setListOfTicketsToGraph([]);\r\n            }\r\n          } else {\r\n            console.log(\"error\");\r\n          }\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const [priorityTickets, setPriorityTickets] = useState({\r\n    urgentTickets: 0,\r\n    highTickets: 0,\r\n    mediumTickets: 0,\r\n    lowTickets: 0\r\n  });\r\n\r\n  const [typeTickets, setTypeTickets] = useState({\r\n    bugTickets: 0,\r\n    featureTickets: 0,\r\n    inquiryTickets: 0\r\n  });\r\n\r\n  const [statusTickets, setStatusTickets] = useState({\r\n    informadoTickets: 0,\r\n    inprogressTickets: 0,\r\n    closedTickets: 0\r\n  });\r\n\r\n  const [ticketsAssignedToDevs, setTicketsAssignedToDevs] = useState([]);\r\n  /////////////////////////////////////////////////////////////////////////////////\r\n  useEffect(() => {\r\n    let listTicketsWithAssignedDeveloper = [];\r\n\r\n    for (let i = 0; i < listOfTicketsToGraph.length; i++) {\r\n      if (listOfTicketsToGraph[i].assignedDeveloper) {\r\n        listTicketsWithAssignedDeveloper.push(\r\n          listOfTicketsToGraph[i].assignedDeveloper.devName\r\n        );\r\n      }\r\n    }\r\n\r\n    var countDevelopers = {};\r\n    listTicketsWithAssignedDeveloper.forEach(function(i) {\r\n      countDevelopers[i] = (countDevelopers[i] || 0) + 1;\r\n    });\r\n    let countToArray = Object.entries(countDevelopers);\r\n\r\n    ///ADDING DATA TITLES\r\n    // [\"NAME \", \"DEVELOPER\"]\r\n    let dataAssigned = [];\r\n\r\n    dataAssigned.push([\"NAME \", \"DEVELOPER\"]);\r\n    for (let i = 0; i < countToArray.length; i++) {\r\n      dataAssigned.push(countToArray[i]);\r\n    }\r\n    setTicketsAssignedToDevs(dataAssigned);\r\n\r\n    //////////////////////////////////////////////////////////////////////\r\n\r\n    let c1 = 0;\r\n    let c2 = 0;\r\n    let c3 = 0;\r\n    let c4 = 0;\r\n\r\n    for (let i = 0; i < listOfTicketsToGraph.length; i++) {\r\n      if (listOfTicketsToGraph[i].priority == \"urgent\") {\r\n        c1++;\r\n      } else if (listOfTicketsToGraph[i].priority == \"high\") {\r\n        c2++;\r\n      } else if (listOfTicketsToGraph[i].priority == \"medium\") {\r\n        c3++;\r\n      } else if (listOfTicketsToGraph[i].priority == \"low\") {\r\n        c4++;\r\n      }\r\n    }\r\n\r\n    setPriorityTickets({\r\n      ...priorityTickets,\r\n      urgentTickets: c1,\r\n      highTickets: c2,\r\n      mediumTickets: c3,\r\n      lowTickets: c4\r\n    });\r\n\r\n    /////////////////////////// ALL THE TYPES\r\n\r\n    let c11 = 0;\r\n    let c22 = 0;\r\n    let c33 = 0;\r\n\r\n    for (let i = 0; i < listOfTicketsToGraph.length; i++) {\r\n      if (listOfTicketsToGraph[i].type == \"bug\") {\r\n        c11++;\r\n      } else if (listOfTicketsToGraph[i].type == \"feature\") {\r\n        c22++;\r\n      } else if (listOfTicketsToGraph[i].type == \"inquiry\") {\r\n        c33++;\r\n      }\r\n    }\r\n\r\n    setTypeTickets({\r\n      ...typeTickets,\r\n      bugTickets: c11,\r\n      featureTickets: c22,\r\n      inquiryTickets: c33\r\n    });\r\n\r\n    /////////////////////////// ALL THE STATUS\r\n\r\n    let c111 = 0;\r\n    let c222 = 0;\r\n    let c333 = 0;\r\n\r\n    for (let i = 0; i < listOfTicketsToGraph.length; i++) {\r\n      if (listOfTicketsToGraph[i].status == \"informado\") {\r\n        c111++;\r\n      } else if (listOfTicketsToGraph[i].status == \"inprogress\") {\r\n        c222++;\r\n      } else if (listOfTicketsToGraph[i].status == \"closed\") {\r\n        c333++;\r\n      }\r\n    }\r\n\r\n    setStatusTickets({\r\n      ...statusTickets,\r\n      informadoTickets: c111,\r\n      inprogressTickets: c222,\r\n      closedTickets: c333\r\n    });\r\n  }, [listOfTicketsToGraph]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"content \">\r\n        <div className=\"container-fluid\">\r\n          {/* LAYOUT */}\r\n          {/* YOUR CONTENT  */}\r\n          <div className=\"row d-flex flex-row justify-content-around\">\r\n            <div className=\"col-md-6  p-3 mb-2  bg-white overflow-hidden\">\r\n              <div>\r\n                <h3> {(\"Tickets by Priority\")}</h3>\r\n                <h4>{(\"All the tickets classify by priority\")}</h4>\r\n              </div>\r\n              <div className=\"card bg-danger\">\r\n                <div className=\"card-header card-header-success \">\r\n                  <Chart\r\n                    height={\"300px\"}\r\n                    chartType=\"Bar\"\r\n                    loader={\r\n                      <img\r\n                        src={require(\"./../images/loading.gif\")}\r\n                        width={\"80px\"}\r\n                        alt=\"\"\r\n                      />\r\n                    }\r\n                    data={[\r\n                      [\"\", \"LOW\", \"MEDIUM\", \"HIGH\", \"URGENT\"],\r\n                      [\r\n                        \"PRIORITY\",\r\n                        priorityTickets.lowTickets,\r\n                        priorityTickets.mediumTickets,\r\n                        priorityTickets.highTickets,\r\n                        priorityTickets.urgentTickets\r\n                      ]\r\n                    ]}\r\n                    options={{\r\n                      chart: {},\r\n                      colors: [\"#4CAF50\", \"#2196F3\", \"#FF9800\", \"#F44336\"]\r\n                    }}\r\n                  ></Chart>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6 p-3 mb-2   bg-white overflow-hidden\">\r\n              <div>\r\n                <h3>{(\"Tickets by Type\")}</h3>\r\n                <h4>{(\"All the tickets classify by type\")}</h4>\r\n              </div>\r\n              <div className=\"card bg-danger\">\r\n                <div className=\"card-header card-header-success\">\r\n                  <Chart\r\n                    chartType=\"PieChart\"\r\n                    loader={\r\n                      <img\r\n                        src={require(\"./../images/loading.gif\")}\r\n                        width={\"80px\"}\r\n                        alt=\"\"\r\n                      />\r\n                    }\r\n                    height={\"300px\"}\r\n                    data={[\r\n                      [\"TYPE \", \"QUANTITY\"],\r\n                      [\"FEATURE\", typeTickets.featureTickets],\r\n                      [\"INQUIRY\", typeTickets.inquiryTickets],\r\n                      [\"BUG\", typeTickets.bugTickets]\r\n                    ]}\r\n                    options={{\r\n                      pieHole: 0.3,\r\n                      is3D: false,\r\n                      colors: [\"#2196F3\", \"#FF9800\", \"#F44336\"]\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-6 p-3 mb-2  bg-white overflow-hidden\">\r\n              <div>\r\n                <h3>{(\"Tickets By Status\")}</h3>\r\n                <h4>{(\"All the tickets classify by status\")}</h4>\r\n              </div>\r\n              <div className=\"card bg-danger\">\r\n                <div className=\"card-header card-header-success\">\r\n                  <Chart\r\n                    height={\"300px\"}\r\n                    chartType=\"Bar\"\r\n                    loader={\r\n                      <img\r\n                        src={require(\"./../images/loading.gif\")}\r\n                        width={\"80px\"}\r\n                        alt=\"\"\r\n                      />\r\n                    }\r\n                    data={[\r\n                      [\"\", \"INFORMED\", \"IN PROGRESS\", \"CLOSED\"],\r\n                      [\r\n                        \"STATUS\",\r\n                        statusTickets.informadoTickets,\r\n                        statusTickets.inprogressTickets,\r\n                        statusTickets.closedTickets\r\n                      ]\r\n                    ]}\r\n                    options={{\r\n                      chart: {},\r\n                      colors: [\"#F44336\", \"#FF9800\", , \"#4CAF50\"],\r\n                      bar : { Width : '70%' }\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-md-6 p-3 mb-2  bg-white overflow-hidden\">\r\n              <div>\r\n                <h3>{(\"Tickets assigned to Developers\")}</h3>\r\n                <h4>{(\"All the tickets assigned to a developer\")}</h4>\r\n              </div>\r\n              <div className=\"card bg-danger\">\r\n                <div className=\"card-header card-header-success\">\r\n                  <Chart\r\n                    chartType=\"PieChart\"\r\n                    loader={\r\n                      <img\r\n                        src={require(\"./../images/loading.gif\")}\r\n                        width={\"80px\"}\r\n                        alt=\"\"\r\n                      />\r\n                    }\r\n                    height={\"300px\"}\r\n                    data={ticketsAssignedToDevs}\r\n                    options={{\r\n                      pieHole: 0.3,\r\n                      is3D: false,\r\n                      colors: [\"#2196F3\", \"#FF9800\", \"#F44336\"]\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\n// export default DashboardHome;\r\n"],"sourceRoot":""}